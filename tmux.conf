# Set tmux prefix.
unbind-key C-b
set -g prefix C-a
bind-key C-a send-prefix

# Use vi mode for navigating buffers
set-window-option -g mode-keys vi

# Use Ctrl+L and Ctrl+H for window switching.
# bind -n M-n new-window
unbind-key l
bind l next-window
unbind-key h
bind h previous-window

# Set the pane switching keys to be vimish.
# unbind-key j
# bind-key j select-pane -D
# unbind-key k
# bind-key k select-pane -U
# unbind-key h
# bind-key h select-pane -L
# unbind-key l
# bind-key l select-pane -R

# Resize panes.
# unbind-key J
# bind-key J resize-pane -D
# unbind-key K
# bind-key K resize-pane -U
# unbind-key H
# bind-key H resize-pane -L
# unbind-key L
# bind-key L resize-pane -R

# smart pane switching with awareness of vim splits
bind -n C-h run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-h) || tmux select-pane -L"
bind -n C-j run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-j) || tmux select-pane -D"
bind -n C-k run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-k) || tmux select-pane -U"
bind -n C-l run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-l) || tmux select-pane -R"
bind -n C-\ run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys 'C-\\') || tmux select-pane -l"
